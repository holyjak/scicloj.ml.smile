<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>scicloj.ml.smile.metamorph documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name"></span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scicloj</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ml</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>smile</span></div></div></li><li class="depth-4 branch"><a href="scicloj.ml.smile.classification.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>classification</span></div></a></li><li class="depth-4 branch"><a href="scicloj.ml.smile.clustering.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clustering</span></div></a></li><li class="depth-4 branch"><a href="scicloj.ml.smile.discrete-nb.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>discrete-nb</span></div></a></li><li class="depth-4 branch"><a href="scicloj.ml.smile.malli.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>malli</span></div></a></li><li class="depth-4 branch"><a href="scicloj.ml.smile.maxent.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>maxent</span></div></a></li><li class="depth-4 branch current"><a href="scicloj.ml.smile.metamorph.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metamorph</span></div></a></li><li class="depth-4 branch"><a href="scicloj.ml.smile.model-examples.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>model-examples</span></div></a></li><li class="depth-4 branch"><a href="scicloj.ml.smile.nlp.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>nlp</span></div></a></li><li class="depth-4 branch"><a href="scicloj.ml.smile.projections.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>projections</span></div></a></li><li class="depth-4 branch"><a href="scicloj.ml.smile.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-4 branch"><a href="scicloj.ml.smile.registration.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>registration</span></div></a></li><li class="depth-4 branch"><a href="scicloj.ml.smile.regression.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>regression</span></div></a></li><li class="depth-4 branch"><a href="scicloj.ml.smile.sparse-logreg.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sparse-logreg</span></div></a></li><li class="depth-4 branch"><a href="scicloj.ml.smile.sparse-svm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sparse-svm</span></div></a></li><li class="depth-4 branch"><a href="scicloj.ml.smile.svm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>svm</span></div></a></li><li class="depth-4"><a href="scicloj.ml.smile.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="scicloj.ml.smile.metamorph.html#var-bow-.3Esomething-sparse"><div class="inner"><span>bow-&gt;something-sparse</span></div></a></li><li class="depth-1"><a href="scicloj.ml.smile.metamorph.html#var-bow-.3Esparse-array"><div class="inner"><span>bow-&gt;sparse-array</span></div></a></li><li class="depth-1"><a href="scicloj.ml.smile.metamorph.html#var-bow-.3ESparseArray"><div class="inner"><span>bow-&gt;SparseArray</span></div></a></li><li class="depth-1"><a href="scicloj.ml.smile.metamorph.html#var-bow-.3Etfidf"><div class="inner"><span>bow-&gt;tfidf</span></div></a></li><li class="depth-1"><a href="scicloj.ml.smile.metamorph.html#var-count-vectorize"><div class="inner"><span>count-vectorize</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">scicloj.ml.smile.metamorph</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-bow-.3Esomething-sparse"><h3>bow-&gt;something-sparse</h3><div class="usage"><code>(bow-&gt;something-sparse bow-col indices-col bow-&gt;sparse-fn options)</code></div><div class="doc"><div class="markdown"><p>Converts a bag-of-word column <code>bow-col</code> to a sparse data column <code>indices-col</code>.  The exact transformation to the sparse representtaion is given by <code>bow-&gt;sparse-fn</code></p>
<table>
  <thead>
    <tr>
      <th>metamorph </th>
      <th>.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Behaviour in mode :fit </td>
      <td>normal</td>
    </tr>
    <tr>
      <td>Behaviour in mode :transform </td>
      <td>normal</td>
    </tr>
    <tr>
      <td>Reads keys from ctx </td>
      <td>none</td>
    </tr>
    <tr>
      <td>Writes keys to ctx </td>
      <td>:scicloj.ml.smile.metamorph/bow-&gt;sparse-vocabulary</td>
    </tr>
  </tbody>
</table></div></div></div><div class="public anchor" id="var-bow-.3Esparse-array"><h3>bow-&gt;sparse-array</h3><div class="usage"><code>(bow-&gt;sparse-array bow-col indices-col options)</code><code>(bow-&gt;sparse-array bow-col indices-col)</code></div><div class="doc"><div class="markdown"><p>Converts a bag-of-word column <code>bow-col</code> to sparse indices column <code>indices-col</code>, as needed by the Maxent model. <code>Options</code> can be of:</p>
<p><code>create-vocab-fn</code> A function which converts the bow map to a list of tokens.  Defaults to scicloj.ml.smile.nlp/create-vocab-all</p>
<p>The sparse data is represented as <code>primitive int arrays</code>, of which entries are the indices against the vocabulary of the present tokens.</p>
<table>
  <thead>
    <tr>
      <th>metamorph </th>
      <th>.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Behaviour in mode :fit </td>
      <td>normal</td>
    </tr>
    <tr>
      <td>Behaviour in mode :transform </td>
      <td>normal</td>
    </tr>
    <tr>
      <td>Reads keys from ctx </td>
      <td>none</td>
    </tr>
    <tr>
      <td>Writes keys to ctx </td>
      <td>:scicloj.ml.smile.metamorph/bow-&gt;sparse-vocabulary</td>
    </tr>
  </tbody>
</table></div></div></div><div class="public anchor" id="var-bow-.3ESparseArray"><h3>bow-&gt;SparseArray</h3><div class="usage"><code>(bow-&gt;SparseArray bow-col indices-col options)</code><code>(bow-&gt;SparseArray bow-col indices-col)</code></div><div class="doc"><div class="markdown"><p>Converts a bag-of-word column <code>bow-col</code> to sparse indices column <code>indices-col</code>,  as needed by the discrete naive bayes model.</p>
<p><code>Options</code> can be of:</p>
<p><code>create-vocab-fn</code> A function which converts the bow map to a list of tokens.  Defaults to scicloj.ml.smile.nlp/create-vocab-all</p>
<p>The sparse data is represented as <code>smile.util.SparseArray</code>.</p>
<table>
  <thead>
    <tr>
      <th>metamorph </th>
      <th>.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Behaviour in mode :fit </td>
      <td>normal</td>
    </tr>
    <tr>
      <td>Behaviour in mode :transform </td>
      <td>normal</td>
    </tr>
    <tr>
      <td>Reads keys from ctx </td>
      <td>none</td>
    </tr>
    <tr>
      <td>Writes keys to ctx </td>
      <td>:scicloj.ml.smile.metamorph/bow-&gt;sparse-vocabulary</td>
    </tr>
  </tbody>
</table></div></div></div><div class="public anchor" id="var-bow-.3Etfidf"><h3>bow-&gt;tfidf</h3><div class="usage"><code>(bow-&gt;tfidf bow-column tfidf-column)</code></div><div class="doc"><div class="markdown"><p>Calculates the tfidf score from bag-of-words (as token frequency maps)  in column <code>bow-column</code> and stores them in a new column <code>tfid-column</code> as maps of token-&gt;tfidf-score.</p>
<table>
  <thead>
    <tr>
      <th>metamorph </th>
      <th>.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Behaviour in mode :fit </td>
      <td>normal</td>
    </tr>
    <tr>
      <td>Behaviour in mode :transform </td>
      <td>normal</td>
    </tr>
    <tr>
      <td>Reads keys from ctx </td>
      <td>none</td>
    </tr>
    <tr>
      <td>Writes keys to ctx </td>
      <td>none</td>
    </tr>
  </tbody>
</table></div></div></div><div class="public anchor" id="var-count-vectorize"><h3>count-vectorize</h3><div class="usage"><code>(count-vectorize text-col bow-col options)</code><code>(count-vectorize text-col bow-col)</code></div><div class="doc"><div class="markdown"><p>Transforms the text column <code>text-col</code> into a map of token frequencies in column <code>bow-col</code></p>
<p><code>options</code> can be any of</p>
<p><code>text-&gt;bow-fn</code> A functions which takes as input a</p>
<table>
  <thead>
    <tr>
      <th>metamorph </th>
      <th>.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Behaviour in mode :fit </td>
      <td>normal</td>
    </tr>
    <tr>
      <td>Behaviour in mode :transform </td>
      <td>normal</td>
    </tr>
    <tr>
      <td>Reads keys from ctx </td>
      <td>none</td>
    </tr>
    <tr>
      <td>Writes keys to ctx </td>
      <td>none</td>
    </tr>
  </tbody>
</table></div></div></div></div></body></html>